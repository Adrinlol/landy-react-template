{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport getScrollBarSize from '../getScrollBarSize';\nimport setStyle from '../setStyle';\nvar locks = [];\nvar scrollingEffectClassName = 'ant-scrolling-effect';\nvar scrollingEffectClassNameReg = new RegExp(\"\".concat(scrollingEffectClassName), 'g');\nvar uuid = 0; // https://github.com/ant-design/ant-design/issues/19340\n// https://github.com/ant-design/ant-design/issues/19332\n\nvar cacheStyle = new Map();\n\nvar ScrollLocker = /*#__PURE__*/_createClass(function ScrollLocker(_options) {\n  var _this = this;\n\n  _classCallCheck(this, ScrollLocker);\n\n  this.lockTarget = void 0;\n  this.options = void 0;\n\n  this.getContainer = function () {\n    var _this$options;\n\n    return (_this$options = _this.options) === null || _this$options === void 0 ? void 0 : _this$options.container;\n  };\n\n  this.reLock = function (options) {\n    var findLock = locks.find(function (_ref) {\n      var target = _ref.target;\n      return target === _this.lockTarget;\n    });\n\n    if (findLock) {\n      _this.unLock();\n    }\n\n    _this.options = options;\n\n    if (findLock) {\n      findLock.options = options;\n\n      _this.lock();\n    }\n  };\n\n  this.lock = function () {\n    var _this$options3; // If lockTarget exist return\n\n\n    if (locks.some(function (_ref2) {\n      var target = _ref2.target;\n      return target === _this.lockTarget;\n    })) {\n      return;\n    } // If same container effect, return\n\n\n    if (locks.some(function (_ref3) {\n      var _this$options2;\n\n      var options = _ref3.options;\n      return (options === null || options === void 0 ? void 0 : options.container) === ((_this$options2 = _this.options) === null || _this$options2 === void 0 ? void 0 : _this$options2.container);\n    })) {\n      locks = [].concat(_toConsumableArray(locks), [{\n        target: _this.lockTarget,\n        options: _this.options\n      }]);\n      return;\n    }\n\n    var scrollBarSize = 0;\n    var container = ((_this$options3 = _this.options) === null || _this$options3 === void 0 ? void 0 : _this$options3.container) || document.body;\n\n    if (container === document.body && window.innerWidth - document.documentElement.clientWidth > 0 || container.scrollHeight > container.clientHeight) {\n      scrollBarSize = getScrollBarSize();\n    }\n\n    var containerClassName = container.className;\n\n    if (locks.filter(function (_ref4) {\n      var _this$options4;\n\n      var options = _ref4.options;\n      return (options === null || options === void 0 ? void 0 : options.container) === ((_this$options4 = _this.options) === null || _this$options4 === void 0 ? void 0 : _this$options4.container);\n    }).length === 0) {\n      cacheStyle.set(container, setStyle({\n        width: scrollBarSize !== 0 ? \"calc(100% - \".concat(scrollBarSize, \"px)\") : undefined,\n        overflow: 'hidden',\n        overflowX: 'hidden',\n        overflowY: 'hidden'\n      }, {\n        element: container\n      }));\n    } // https://github.com/ant-design/ant-design/issues/19729\n\n\n    if (!scrollingEffectClassNameReg.test(containerClassName)) {\n      var addClassName = \"\".concat(containerClassName, \" \").concat(scrollingEffectClassName);\n      container.className = addClassName.trim();\n    }\n\n    locks = [].concat(_toConsumableArray(locks), [{\n      target: _this.lockTarget,\n      options: _this.options\n    }]);\n  };\n\n  this.unLock = function () {\n    var _this$options5;\n\n    var findLock = locks.find(function (_ref5) {\n      var target = _ref5.target;\n      return target === _this.lockTarget;\n    });\n    locks = locks.filter(function (_ref6) {\n      var target = _ref6.target;\n      return target !== _this.lockTarget;\n    });\n\n    if (!findLock || locks.some(function (_ref7) {\n      var _findLock$options;\n\n      var options = _ref7.options;\n      return (options === null || options === void 0 ? void 0 : options.container) === ((_findLock$options = findLock.options) === null || _findLock$options === void 0 ? void 0 : _findLock$options.container);\n    })) {\n      return;\n    } // Remove Effect\n\n\n    var container = ((_this$options5 = _this.options) === null || _this$options5 === void 0 ? void 0 : _this$options5.container) || document.body;\n    var containerClassName = container.className;\n    if (!scrollingEffectClassNameReg.test(containerClassName)) return;\n    setStyle(cacheStyle.get(container), {\n      element: container\n    });\n    cacheStyle.delete(container);\n    container.className = container.className.replace(scrollingEffectClassNameReg, '').trim();\n  }; // eslint-disable-next-line no-plusplus\n\n\n  this.lockTarget = uuid++;\n  this.options = _options;\n});\n\nexport { ScrollLocker as default };","map":{"version":3,"sources":["/Users/iflego/Documents/GitHub/landy-react-template/my-app/node_modules/rc-util/es/Dom/scrollLocker.js"],"names":["_toConsumableArray","_createClass","_classCallCheck","getScrollBarSize","setStyle","locks","scrollingEffectClassName","scrollingEffectClassNameReg","RegExp","concat","uuid","cacheStyle","Map","ScrollLocker","_options","_this","lockTarget","options","getContainer","_this$options","container","reLock","findLock","find","_ref","target","unLock","lock","_this$options3","some","_ref2","_ref3","_this$options2","scrollBarSize","document","body","window","innerWidth","documentElement","clientWidth","scrollHeight","clientHeight","containerClassName","className","filter","_ref4","_this$options4","length","set","width","undefined","overflow","overflowX","overflowY","element","test","addClassName","trim","_this$options5","_ref5","_ref6","_ref7","_findLock$options","get","delete","replace","default"],"mappings":"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","sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport getScrollBarSize from '../getScrollBarSize';\nimport setStyle from '../setStyle';\nvar locks = [];\nvar scrollingEffectClassName = 'ant-scrolling-effect';\nvar scrollingEffectClassNameReg = new RegExp(\"\".concat(scrollingEffectClassName), 'g');\nvar uuid = 0; // https://github.com/ant-design/ant-design/issues/19340\n// https://github.com/ant-design/ant-design/issues/19332\n\nvar cacheStyle = new Map();\n\nvar ScrollLocker = /*#__PURE__*/_createClass(function ScrollLocker(_options) {\n  var _this = this;\n\n  _classCallCheck(this, ScrollLocker);\n\n  this.lockTarget = void 0;\n  this.options = void 0;\n\n  this.getContainer = function () {\n    var _this$options;\n\n    return (_this$options = _this.options) === null || _this$options === void 0 ? void 0 : _this$options.container;\n  };\n\n  this.reLock = function (options) {\n    var findLock = locks.find(function (_ref) {\n      var target = _ref.target;\n      return target === _this.lockTarget;\n    });\n\n    if (findLock) {\n      _this.unLock();\n    }\n\n    _this.options = options;\n\n    if (findLock) {\n      findLock.options = options;\n\n      _this.lock();\n    }\n  };\n\n  this.lock = function () {\n    var _this$options3;\n\n    // If lockTarget exist return\n    if (locks.some(function (_ref2) {\n      var target = _ref2.target;\n      return target === _this.lockTarget;\n    })) {\n      return;\n    } // If same container effect, return\n\n\n    if (locks.some(function (_ref3) {\n      var _this$options2;\n\n      var options = _ref3.options;\n      return (options === null || options === void 0 ? void 0 : options.container) === ((_this$options2 = _this.options) === null || _this$options2 === void 0 ? void 0 : _this$options2.container);\n    })) {\n      locks = [].concat(_toConsumableArray(locks), [{\n        target: _this.lockTarget,\n        options: _this.options\n      }]);\n      return;\n    }\n\n    var scrollBarSize = 0;\n    var container = ((_this$options3 = _this.options) === null || _this$options3 === void 0 ? void 0 : _this$options3.container) || document.body;\n\n    if (container === document.body && window.innerWidth - document.documentElement.clientWidth > 0 || container.scrollHeight > container.clientHeight) {\n      scrollBarSize = getScrollBarSize();\n    }\n\n    var containerClassName = container.className;\n\n    if (locks.filter(function (_ref4) {\n      var _this$options4;\n\n      var options = _ref4.options;\n      return (options === null || options === void 0 ? void 0 : options.container) === ((_this$options4 = _this.options) === null || _this$options4 === void 0 ? void 0 : _this$options4.container);\n    }).length === 0) {\n      cacheStyle.set(container, setStyle({\n        width: scrollBarSize !== 0 ? \"calc(100% - \".concat(scrollBarSize, \"px)\") : undefined,\n        overflow: 'hidden',\n        overflowX: 'hidden',\n        overflowY: 'hidden'\n      }, {\n        element: container\n      }));\n    } // https://github.com/ant-design/ant-design/issues/19729\n\n\n    if (!scrollingEffectClassNameReg.test(containerClassName)) {\n      var addClassName = \"\".concat(containerClassName, \" \").concat(scrollingEffectClassName);\n      container.className = addClassName.trim();\n    }\n\n    locks = [].concat(_toConsumableArray(locks), [{\n      target: _this.lockTarget,\n      options: _this.options\n    }]);\n  };\n\n  this.unLock = function () {\n    var _this$options5;\n\n    var findLock = locks.find(function (_ref5) {\n      var target = _ref5.target;\n      return target === _this.lockTarget;\n    });\n    locks = locks.filter(function (_ref6) {\n      var target = _ref6.target;\n      return target !== _this.lockTarget;\n    });\n\n    if (!findLock || locks.some(function (_ref7) {\n      var _findLock$options;\n\n      var options = _ref7.options;\n      return (options === null || options === void 0 ? void 0 : options.container) === ((_findLock$options = findLock.options) === null || _findLock$options === void 0 ? void 0 : _findLock$options.container);\n    })) {\n      return;\n    } // Remove Effect\n\n\n    var container = ((_this$options5 = _this.options) === null || _this$options5 === void 0 ? void 0 : _this$options5.container) || document.body;\n    var containerClassName = container.className;\n    if (!scrollingEffectClassNameReg.test(containerClassName)) return;\n    setStyle(cacheStyle.get(container), {\n      element: container\n    });\n    cacheStyle.delete(container);\n    container.className = container.className.replace(scrollingEffectClassNameReg, '').trim();\n  };\n\n  // eslint-disable-next-line no-plusplus\n  this.lockTarget = uuid++;\n  this.options = _options;\n});\n\nexport { ScrollLocker as default };"]},"metadata":{},"sourceType":"module"}