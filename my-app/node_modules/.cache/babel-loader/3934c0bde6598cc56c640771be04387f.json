{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport TimeHeader from './TimeHeader';\nimport TimeBody from './TimeBody';\nimport { createKeyDownHandler } from '../../utils/uiUtil';\n\nvar countBoolean = function countBoolean(boolList) {\n  return boolList.filter(function (bool) {\n    return bool !== false;\n  }).length;\n};\n\nfunction TimePanel(props) {\n  var generateConfig = props.generateConfig,\n      _props$format = props.format,\n      format = _props$format === void 0 ? 'HH:mm:ss' : _props$format,\n      prefixCls = props.prefixCls,\n      active = props.active,\n      operationRef = props.operationRef,\n      showHour = props.showHour,\n      showMinute = props.showMinute,\n      showSecond = props.showSecond,\n      _props$use12Hours = props.use12Hours,\n      use12Hours = _props$use12Hours === void 0 ? false : _props$use12Hours,\n      onSelect = props.onSelect,\n      value = props.value;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-time-panel\");\n  var bodyOperationRef = React.useRef(); // ======================= Keyboard =======================\n\n  var _React$useState = React.useState(-1),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      activeColumnIndex = _React$useState2[0],\n      setActiveColumnIndex = _React$useState2[1];\n\n  var columnsCount = countBoolean([showHour, showMinute, showSecond, use12Hours]);\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      return createKeyDownHandler(event, {\n        onLeftRight: function onLeftRight(diff) {\n          setActiveColumnIndex((activeColumnIndex + diff + columnsCount) % columnsCount);\n        },\n        onUpDown: function onUpDown(diff) {\n          if (activeColumnIndex === -1) {\n            setActiveColumnIndex(0);\n          } else if (bodyOperationRef.current) {\n            bodyOperationRef.current.onUpDown(diff);\n          }\n        },\n        onEnter: function onEnter() {\n          onSelect(value || generateConfig.getNow(), 'key');\n          setActiveColumnIndex(-1);\n        }\n      });\n    },\n    onBlur: function onBlur() {\n      setActiveColumnIndex(-1);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(panelPrefixCls, _defineProperty({}, \"\".concat(panelPrefixCls, \"-active\"), active))\n  }, /*#__PURE__*/React.createElement(TimeHeader, _extends({}, props, {\n    format: format,\n    prefixCls: prefixCls\n  })), /*#__PURE__*/React.createElement(TimeBody, _extends({}, props, {\n    prefixCls: prefixCls,\n    activeColumnIndex: activeColumnIndex,\n    operationRef: bodyOperationRef\n  })));\n}\n\nexport default TimePanel;","map":{"version":3,"sources":["/Users/iflego/Documents/GitHub/landy-react-template/my-app/node_modules/rc-picker/es/panels/TimePanel/index.js"],"names":["_extends","_defineProperty","_slicedToArray","React","classNames","TimeHeader","TimeBody","createKeyDownHandler","countBoolean","boolList","filter","bool","length","TimePanel","props","generateConfig","_props$format","format","prefixCls","active","operationRef","showHour","showMinute","showSecond","_props$use12Hours","use12Hours","onSelect","value","panelPrefixCls","concat","bodyOperationRef","useRef","_React$useState","useState","_React$useState2","activeColumnIndex","setActiveColumnIndex","columnsCount","current","onKeyDown","event","onLeftRight","diff","onUpDown","onEnter","getNow","onBlur","createElement","className"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport TimeHeader from './TimeHeader';\nimport TimeBody from './TimeBody';\nimport { createKeyDownHandler } from '../../utils/uiUtil';\n\nvar countBoolean = function countBoolean(boolList) {\n  return boolList.filter(function (bool) {\n    return bool !== false;\n  }).length;\n};\n\nfunction TimePanel(props) {\n  var generateConfig = props.generateConfig,\n      _props$format = props.format,\n      format = _props$format === void 0 ? 'HH:mm:ss' : _props$format,\n      prefixCls = props.prefixCls,\n      active = props.active,\n      operationRef = props.operationRef,\n      showHour = props.showHour,\n      showMinute = props.showMinute,\n      showSecond = props.showSecond,\n      _props$use12Hours = props.use12Hours,\n      use12Hours = _props$use12Hours === void 0 ? false : _props$use12Hours,\n      onSelect = props.onSelect,\n      value = props.value;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-time-panel\");\n  var bodyOperationRef = React.useRef(); // ======================= Keyboard =======================\n\n  var _React$useState = React.useState(-1),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      activeColumnIndex = _React$useState2[0],\n      setActiveColumnIndex = _React$useState2[1];\n\n  var columnsCount = countBoolean([showHour, showMinute, showSecond, use12Hours]);\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      return createKeyDownHandler(event, {\n        onLeftRight: function onLeftRight(diff) {\n          setActiveColumnIndex((activeColumnIndex + diff + columnsCount) % columnsCount);\n        },\n        onUpDown: function onUpDown(diff) {\n          if (activeColumnIndex === -1) {\n            setActiveColumnIndex(0);\n          } else if (bodyOperationRef.current) {\n            bodyOperationRef.current.onUpDown(diff);\n          }\n        },\n        onEnter: function onEnter() {\n          onSelect(value || generateConfig.getNow(), 'key');\n          setActiveColumnIndex(-1);\n        }\n      });\n    },\n    onBlur: function onBlur() {\n      setActiveColumnIndex(-1);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(panelPrefixCls, _defineProperty({}, \"\".concat(panelPrefixCls, \"-active\"), active))\n  }, /*#__PURE__*/React.createElement(TimeHeader, _extends({}, props, {\n    format: format,\n    prefixCls: prefixCls\n  })), /*#__PURE__*/React.createElement(TimeBody, _extends({}, props, {\n    prefixCls: prefixCls,\n    activeColumnIndex: activeColumnIndex,\n    operationRef: bodyOperationRef\n  })));\n}\n\nexport default TimePanel;"]},"metadata":{},"sourceType":"module"}