{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"visible\", \"mobile\"];\nimport * as React from 'react';\nimport { useState, useEffect } from 'react';\nimport isMobile from \"rc-util/es/isMobile\";\nimport Mask from './Mask';\nimport PopupInner from './PopupInner';\nimport MobilePopupInner from './MobilePopupInner';\nvar Popup = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var visible = _ref.visible,\n      mobile = _ref.mobile,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useState = useState(visible),\n      _useState2 = _slicedToArray(_useState, 2),\n      innerVisible = _useState2[0],\n      serInnerVisible = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      inMobile = _useState4[0],\n      setInMobile = _useState4[1];\n\n  var cloneProps = _objectSpread(_objectSpread({}, props), {}, {\n    visible: innerVisible\n  }); // We check mobile in visible changed here.\n  // And this also delay set `innerVisible` to avoid popup component render flash\n\n\n  useEffect(function () {\n    serInnerVisible(visible);\n\n    if (visible && mobile) {\n      setInMobile(isMobile());\n    }\n  }, [visible, mobile]);\n  var popupNode = inMobile ? /*#__PURE__*/React.createElement(MobilePopupInner, _extends({}, cloneProps, {\n    mobile: mobile,\n    ref: ref\n  })) : /*#__PURE__*/React.createElement(PopupInner, _extends({}, cloneProps, {\n    ref: ref\n  })); // We can use fragment directly but this may failed some selector usage. Keep as origin logic\n\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Mask, cloneProps), popupNode);\n});\nPopup.displayName = 'Popup';\nexport default Popup;","map":{"version":3,"sources":["/Users/iflego/Documents/GitHub/landy-react-template/my-app/node_modules/rc-trigger/es/Popup/index.js"],"names":["_extends","_objectSpread","_slicedToArray","_objectWithoutProperties","_excluded","React","useState","useEffect","isMobile","Mask","PopupInner","MobilePopupInner","Popup","forwardRef","_ref","ref","visible","mobile","props","_useState","_useState2","innerVisible","serInnerVisible","_useState3","_useState4","inMobile","setInMobile","cloneProps","popupNode","createElement","displayName"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,oCAArB;AACA,OAAOC,aAAP,MAA0B,0CAA1B;AACA,OAAOC,cAAP,MAA2B,0CAA3B;AACA,OAAOC,wBAAP,MAAqC,oDAArC;AACA,IAAIC,SAAS,GAAG,CAAC,SAAD,EAAY,QAAZ,CAAhB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,IAAIC,KAAK,GAAG,aAAaP,KAAK,CAACQ,UAAN,CAAiB,UAAUC,IAAV,EAAgBC,GAAhB,EAAqB;AAC7D,MAAIC,OAAO,GAAGF,IAAI,CAACE,OAAnB;AAAA,MACIC,MAAM,GAAGH,IAAI,CAACG,MADlB;AAAA,MAEIC,KAAK,GAAGf,wBAAwB,CAACW,IAAD,EAAOV,SAAP,CAFpC;;AAIA,MAAIe,SAAS,GAAGb,QAAQ,CAACU,OAAD,CAAxB;AAAA,MACII,UAAU,GAAGlB,cAAc,CAACiB,SAAD,EAAY,CAAZ,CAD/B;AAAA,MAEIE,YAAY,GAAGD,UAAU,CAAC,CAAD,CAF7B;AAAA,MAGIE,eAAe,GAAGF,UAAU,CAAC,CAAD,CAHhC;;AAKA,MAAIG,UAAU,GAAGjB,QAAQ,CAAC,KAAD,CAAzB;AAAA,MACIkB,UAAU,GAAGtB,cAAc,CAACqB,UAAD,EAAa,CAAb,CAD/B;AAAA,MAEIE,QAAQ,GAAGD,UAAU,CAAC,CAAD,CAFzB;AAAA,MAGIE,WAAW,GAAGF,UAAU,CAAC,CAAD,CAH5B;;AAKA,MAAIG,UAAU,GAAG1B,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKiB,KAAL,CAAd,EAA2B,EAA3B,EAA+B;AAC3DF,IAAAA,OAAO,EAAEK;AADkD,GAA/B,CAA9B,CAf6D,CAiBzD;AACJ;;;AAGAd,EAAAA,SAAS,CAAC,YAAY;AACpBe,IAAAA,eAAe,CAACN,OAAD,CAAf;;AAEA,QAAIA,OAAO,IAAIC,MAAf,EAAuB;AACrBS,MAAAA,WAAW,CAAClB,QAAQ,EAAT,CAAX;AACD;AACF,GANQ,EAMN,CAACQ,OAAD,EAAUC,MAAV,CANM,CAAT;AAOA,MAAIW,SAAS,GAAGH,QAAQ,GAAG,aAAapB,KAAK,CAACwB,aAAN,CAAoBlB,gBAApB,EAAsCX,QAAQ,CAAC,EAAD,EAAK2B,UAAL,EAAiB;AACrGV,IAAAA,MAAM,EAAEA,MAD6F;AAErGF,IAAAA,GAAG,EAAEA;AAFgG,GAAjB,CAA9C,CAAhB,GAGlB,aAAaV,KAAK,CAACwB,aAAN,CAAoBnB,UAApB,EAAgCV,QAAQ,CAAC,EAAD,EAAK2B,UAAL,EAAiB;AAC1EZ,IAAAA,GAAG,EAAEA;AADqE,GAAjB,CAAxC,CAHnB,CA5B6D,CAiCxD;;AAEL,SAAO,aAAaV,KAAK,CAACwB,aAAN,CAAoB,KAApB,EAA2B,IAA3B,EAAiC,aAAaxB,KAAK,CAACwB,aAAN,CAAoBpB,IAApB,EAA0BkB,UAA1B,CAA9C,EAAqFC,SAArF,CAApB;AACD,CApCwB,CAAzB;AAqCAhB,KAAK,CAACkB,WAAN,GAAoB,OAApB;AACA,eAAelB,KAAf","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"visible\", \"mobile\"];\nimport * as React from 'react';\nimport { useState, useEffect } from 'react';\nimport isMobile from \"rc-util/es/isMobile\";\nimport Mask from './Mask';\nimport PopupInner from './PopupInner';\nimport MobilePopupInner from './MobilePopupInner';\nvar Popup = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var visible = _ref.visible,\n      mobile = _ref.mobile,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useState = useState(visible),\n      _useState2 = _slicedToArray(_useState, 2),\n      innerVisible = _useState2[0],\n      serInnerVisible = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      inMobile = _useState4[0],\n      setInMobile = _useState4[1];\n\n  var cloneProps = _objectSpread(_objectSpread({}, props), {}, {\n    visible: innerVisible\n  }); // We check mobile in visible changed here.\n  // And this also delay set `innerVisible` to avoid popup component render flash\n\n\n  useEffect(function () {\n    serInnerVisible(visible);\n\n    if (visible && mobile) {\n      setInMobile(isMobile());\n    }\n  }, [visible, mobile]);\n  var popupNode = inMobile ? /*#__PURE__*/React.createElement(MobilePopupInner, _extends({}, cloneProps, {\n    mobile: mobile,\n    ref: ref\n  })) : /*#__PURE__*/React.createElement(PopupInner, _extends({}, cloneProps, {\n    ref: ref\n  })); // We can use fragment directly but this may failed some selector usage. Keep as origin logic\n\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Mask, cloneProps), popupNode);\n});\nPopup.displayName = 'Popup';\nexport default Popup;"]},"metadata":{},"sourceType":"module"}