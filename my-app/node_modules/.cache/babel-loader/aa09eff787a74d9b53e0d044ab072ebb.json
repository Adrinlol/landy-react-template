{"ast":null,"code":"import { isCheckDisabled } from './valueUtil';\nexport var SHOW_ALL = 'SHOW_ALL';\nexport var SHOW_PARENT = 'SHOW_PARENT';\nexport var SHOW_CHILD = 'SHOW_CHILD';\nexport function formatStrategyValues(values, strategy, keyEntities, fieldNames) {\n  var valueSet = new Set(values);\n\n  if (strategy === SHOW_CHILD) {\n    return values.filter(function (key) {\n      var entity = keyEntities[key];\n\n      if (entity && entity.children && entity.children.every(function (_ref) {\n        var node = _ref.node;\n        return valueSet.has(node[fieldNames.value]);\n      })) {\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  if (strategy === SHOW_PARENT) {\n    return values.filter(function (key) {\n      var entity = keyEntities[key];\n      var parent = entity ? entity.parent : null;\n\n      if (parent && !isCheckDisabled(parent.node) && valueSet.has(parent.key)) {\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  return values;\n}","map":{"version":3,"sources":["/Users/iflego/Documents/GitHub/landy-react-template/my-app/node_modules/rc-tree-select/es/utils/strategyUtil.js"],"names":["isCheckDisabled","SHOW_ALL","SHOW_PARENT","SHOW_CHILD","formatStrategyValues","values","strategy","keyEntities","fieldNames","valueSet","Set","filter","key","entity","children","every","_ref","node","has","value","parent"],"mappings":"AAAA,SAASA,eAAT,QAAgC,aAAhC;AACA,OAAO,IAAIC,QAAQ,GAAG,UAAf;AACP,OAAO,IAAIC,WAAW,GAAG,aAAlB;AACP,OAAO,IAAIC,UAAU,GAAG,YAAjB;AACP,OAAO,SAASC,oBAAT,CAA8BC,MAA9B,EAAsCC,QAAtC,EAAgDC,WAAhD,EAA6DC,UAA7D,EAAyE;AAC9E,MAAIC,QAAQ,GAAG,IAAIC,GAAJ,CAAQL,MAAR,CAAf;;AAEA,MAAIC,QAAQ,KAAKH,UAAjB,EAA6B;AAC3B,WAAOE,MAAM,CAACM,MAAP,CAAc,UAAUC,GAAV,EAAe;AAClC,UAAIC,MAAM,GAAGN,WAAW,CAACK,GAAD,CAAxB;;AAEA,UAAIC,MAAM,IAAIA,MAAM,CAACC,QAAjB,IAA6BD,MAAM,CAACC,QAAP,CAAgBC,KAAhB,CAAsB,UAAUC,IAAV,EAAgB;AACrE,YAAIC,IAAI,GAAGD,IAAI,CAACC,IAAhB;AACA,eAAOR,QAAQ,CAACS,GAAT,CAAaD,IAAI,CAACT,UAAU,CAACW,KAAZ,CAAjB,CAAP;AACD,OAHgC,CAAjC,EAGI;AACF,eAAO,KAAP;AACD;;AAED,aAAO,IAAP;AACD,KAXM,CAAP;AAYD;;AAED,MAAIb,QAAQ,KAAKJ,WAAjB,EAA8B;AAC5B,WAAOG,MAAM,CAACM,MAAP,CAAc,UAAUC,GAAV,EAAe;AAClC,UAAIC,MAAM,GAAGN,WAAW,CAACK,GAAD,CAAxB;AACA,UAAIQ,MAAM,GAAGP,MAAM,GAAGA,MAAM,CAACO,MAAV,GAAmB,IAAtC;;AAEA,UAAIA,MAAM,IAAI,CAACpB,eAAe,CAACoB,MAAM,CAACH,IAAR,CAA1B,IAA2CR,QAAQ,CAACS,GAAT,CAAaE,MAAM,CAACR,GAApB,CAA/C,EAAyE;AACvE,eAAO,KAAP;AACD;;AAED,aAAO,IAAP;AACD,KATM,CAAP;AAUD;;AAED,SAAOP,MAAP;AACD","sourcesContent":["import { isCheckDisabled } from './valueUtil';\nexport var SHOW_ALL = 'SHOW_ALL';\nexport var SHOW_PARENT = 'SHOW_PARENT';\nexport var SHOW_CHILD = 'SHOW_CHILD';\nexport function formatStrategyValues(values, strategy, keyEntities, fieldNames) {\n  var valueSet = new Set(values);\n\n  if (strategy === SHOW_CHILD) {\n    return values.filter(function (key) {\n      var entity = keyEntities[key];\n\n      if (entity && entity.children && entity.children.every(function (_ref) {\n        var node = _ref.node;\n        return valueSet.has(node[fieldNames.value]);\n      })) {\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  if (strategy === SHOW_PARENT) {\n    return values.filter(function (key) {\n      var entity = keyEntities[key];\n      var parent = entity ? entity.parent : null;\n\n      if (parent && !isCheckDisabled(parent.node) && valueSet.has(parent.key)) {\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  return values;\n}"]},"metadata":{},"sourceType":"module"}