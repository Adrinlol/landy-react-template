{"ast":null,"code":"function loopFiles(item, callback) {\n  var dirReader = item.createReader();\n  var fileList = [];\n\n  function sequence() {\n    dirReader.readEntries(function (entries) {\n      var entryList = Array.prototype.slice.apply(entries);\n      fileList = fileList.concat(entryList); // Check if all the file has been viewed\n\n      var isFinished = !entryList.length;\n\n      if (isFinished) {\n        callback(fileList);\n      } else {\n        sequence();\n      }\n    });\n  }\n\n  sequence();\n}\n\nvar traverseFileTree = function traverseFileTree(files, callback, isAccepted) {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  var _traverseFileTree = function _traverseFileTree(item, path) {\n    // eslint-disable-next-line no-param-reassign\n    item.path = path || '';\n\n    if (item.isFile) {\n      item.file(function (file) {\n        if (isAccepted(file)) {\n          // https://github.com/ant-design/ant-design/issues/16426\n          if (item.fullPath && !file.webkitRelativePath) {\n            Object.defineProperties(file, {\n              webkitRelativePath: {\n                writable: true\n              }\n            }); // eslint-disable-next-line no-param-reassign\n\n            file.webkitRelativePath = item.fullPath.replace(/^\\//, '');\n            Object.defineProperties(file, {\n              webkitRelativePath: {\n                writable: false\n              }\n            });\n          }\n\n          callback([file]);\n        }\n      });\n    } else if (item.isDirectory) {\n      loopFiles(item, function (entries) {\n        entries.forEach(function (entryItem) {\n          _traverseFileTree(entryItem, \"\".concat(path).concat(item.name, \"/\"));\n        });\n      });\n    }\n  };\n\n  files.forEach(function (file) {\n    _traverseFileTree(file.webkitGetAsEntry());\n  });\n};\n\nexport default traverseFileTree;","map":{"version":3,"sources":["/Users/iflego/Documents/GitHub/landy-react-template/my-app/node_modules/rc-upload/es/traverseFileTree.js"],"names":["loopFiles","item","callback","dirReader","createReader","fileList","sequence","readEntries","entries","entryList","Array","prototype","slice","apply","concat","isFinished","length","traverseFileTree","files","isAccepted","_traverseFileTree","path","isFile","file","fullPath","webkitRelativePath","Object","defineProperties","writable","replace","isDirectory","forEach","entryItem","name","webkitGetAsEntry"],"mappings":"AAAA,SAASA,SAAT,CAAmBC,IAAnB,EAAyBC,QAAzB,EAAmC;AACjC,MAAIC,SAAS,GAAGF,IAAI,CAACG,YAAL,EAAhB;AACA,MAAIC,QAAQ,GAAG,EAAf;;AAEA,WAASC,QAAT,GAAoB;AAClBH,IAAAA,SAAS,CAACI,WAAV,CAAsB,UAAUC,OAAV,EAAmB;AACvC,UAAIC,SAAS,GAAGC,KAAK,CAACC,SAAN,CAAgBC,KAAhB,CAAsBC,KAAtB,CAA4BL,OAA5B,CAAhB;AACAH,MAAAA,QAAQ,GAAGA,QAAQ,CAACS,MAAT,CAAgBL,SAAhB,CAAX,CAFuC,CAEA;;AAEvC,UAAIM,UAAU,GAAG,CAACN,SAAS,CAACO,MAA5B;;AAEA,UAAID,UAAJ,EAAgB;AACdb,QAAAA,QAAQ,CAACG,QAAD,CAAR;AACD,OAFD,MAEO;AACLC,QAAAA,QAAQ;AACT;AACF,KAXD;AAYD;;AAEDA,EAAAA,QAAQ;AACT;;AAED,IAAIW,gBAAgB,GAAG,SAASA,gBAAT,CAA0BC,KAA1B,EAAiChB,QAAjC,EAA2CiB,UAA3C,EAAuD;AAC5E;AACA,MAAIC,iBAAiB,GAAG,SAASA,iBAAT,CAA2BnB,IAA3B,EAAiCoB,IAAjC,EAAuC;AAC7D;AACApB,IAAAA,IAAI,CAACoB,IAAL,GAAYA,IAAI,IAAI,EAApB;;AAEA,QAAIpB,IAAI,CAACqB,MAAT,EAAiB;AACfrB,MAAAA,IAAI,CAACsB,IAAL,CAAU,UAAUA,IAAV,EAAgB;AACxB,YAAIJ,UAAU,CAACI,IAAD,CAAd,EAAsB;AACpB;AACA,cAAItB,IAAI,CAACuB,QAAL,IAAiB,CAACD,IAAI,CAACE,kBAA3B,EAA+C;AAC7CC,YAAAA,MAAM,CAACC,gBAAP,CAAwBJ,IAAxB,EAA8B;AAC5BE,cAAAA,kBAAkB,EAAE;AAClBG,gBAAAA,QAAQ,EAAE;AADQ;AADQ,aAA9B,EAD6C,CAKzC;;AAEJL,YAAAA,IAAI,CAACE,kBAAL,GAA0BxB,IAAI,CAACuB,QAAL,CAAcK,OAAd,CAAsB,KAAtB,EAA6B,EAA7B,CAA1B;AACAH,YAAAA,MAAM,CAACC,gBAAP,CAAwBJ,IAAxB,EAA8B;AAC5BE,cAAAA,kBAAkB,EAAE;AAClBG,gBAAAA,QAAQ,EAAE;AADQ;AADQ,aAA9B;AAKD;;AAED1B,UAAAA,QAAQ,CAAC,CAACqB,IAAD,CAAD,CAAR;AACD;AACF,OApBD;AAqBD,KAtBD,MAsBO,IAAItB,IAAI,CAAC6B,WAAT,EAAsB;AAC3B9B,MAAAA,SAAS,CAACC,IAAD,EAAO,UAAUO,OAAV,EAAmB;AACjCA,QAAAA,OAAO,CAACuB,OAAR,CAAgB,UAAUC,SAAV,EAAqB;AACnCZ,UAAAA,iBAAiB,CAACY,SAAD,EAAY,GAAGlB,MAAH,CAAUO,IAAV,EAAgBP,MAAhB,CAAuBb,IAAI,CAACgC,IAA5B,EAAkC,GAAlC,CAAZ,CAAjB;AACD,SAFD;AAGD,OAJQ,CAAT;AAKD;AACF,GAjCD;;AAmCAf,EAAAA,KAAK,CAACa,OAAN,CAAc,UAAUR,IAAV,EAAgB;AAC5BH,IAAAA,iBAAiB,CAACG,IAAI,CAACW,gBAAL,EAAD,CAAjB;AACD,GAFD;AAGD,CAxCD;;AA0CA,eAAejB,gBAAf","sourcesContent":["function loopFiles(item, callback) {\n  var dirReader = item.createReader();\n  var fileList = [];\n\n  function sequence() {\n    dirReader.readEntries(function (entries) {\n      var entryList = Array.prototype.slice.apply(entries);\n      fileList = fileList.concat(entryList); // Check if all the file has been viewed\n\n      var isFinished = !entryList.length;\n\n      if (isFinished) {\n        callback(fileList);\n      } else {\n        sequence();\n      }\n    });\n  }\n\n  sequence();\n}\n\nvar traverseFileTree = function traverseFileTree(files, callback, isAccepted) {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  var _traverseFileTree = function _traverseFileTree(item, path) {\n    // eslint-disable-next-line no-param-reassign\n    item.path = path || '';\n\n    if (item.isFile) {\n      item.file(function (file) {\n        if (isAccepted(file)) {\n          // https://github.com/ant-design/ant-design/issues/16426\n          if (item.fullPath && !file.webkitRelativePath) {\n            Object.defineProperties(file, {\n              webkitRelativePath: {\n                writable: true\n              }\n            }); // eslint-disable-next-line no-param-reassign\n\n            file.webkitRelativePath = item.fullPath.replace(/^\\//, '');\n            Object.defineProperties(file, {\n              webkitRelativePath: {\n                writable: false\n              }\n            });\n          }\n\n          callback([file]);\n        }\n      });\n    } else if (item.isDirectory) {\n      loopFiles(item, function (entries) {\n        entries.forEach(function (entryItem) {\n          _traverseFileTree(entryItem, \"\".concat(path).concat(item.name, \"/\"));\n        });\n      });\n    }\n  };\n\n  files.forEach(function (file) {\n    _traverseFileTree(file.webkitGetAsEntry());\n  });\n};\n\nexport default traverseFileTree;"]},"metadata":{},"sourceType":"module"}