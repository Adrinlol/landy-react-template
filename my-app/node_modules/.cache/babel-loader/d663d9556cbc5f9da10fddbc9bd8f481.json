{"ast":null,"code":"import warning from \"rc-util/es/warning\";\nexport default (function (file, acceptedFiles) {\n  if (file && acceptedFiles) {\n    var acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\n    var fileName = file.name || '';\n    var mimeType = file.type || '';\n    var baseMimeType = mimeType.replace(/\\/.*$/, '');\n    return acceptedFilesArray.some(function (type) {\n      var validType = type.trim(); // This is something like */*,*  allow all files\n\n      if (/^\\*(\\/\\*)?$/.test(type)) {\n        return true;\n      } // like .jpg, .png\n\n\n      if (validType.charAt(0) === '.') {\n        var lowerFileName = fileName.toLowerCase();\n        var lowerType = validType.toLowerCase();\n        var affixList = [lowerType];\n\n        if (lowerType === '.jpg' || lowerType === '.jpeg') {\n          affixList = ['.jpg', '.jpeg'];\n        }\n\n        return affixList.some(function (affix) {\n          return lowerFileName.endsWith(affix);\n        });\n      } // This is something like a image/* mime type\n\n\n      if (/\\/\\*$/.test(validType)) {\n        return baseMimeType === validType.replace(/\\/.*$/, '');\n      } // Full match\n\n\n      if (mimeType === validType) {\n        return true;\n      } // Invalidate type should skip\n\n\n      if (/^\\w+$/.test(validType)) {\n        warning(false, \"Upload takes an invalidate 'accept' type '\".concat(validType, \"'.Skip for check.\"));\n        return true;\n      }\n\n      return false;\n    });\n  }\n\n  return true;\n});","map":{"version":3,"sources":["/Users/iflego/Documents/GitHub/landy-react-template/my-app/node_modules/rc-upload/es/attr-accept.js"],"names":["warning","file","acceptedFiles","acceptedFilesArray","Array","isArray","split","fileName","name","mimeType","type","baseMimeType","replace","some","validType","trim","test","charAt","lowerFileName","toLowerCase","lowerType","affixList","affix","endsWith","concat"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,oBAApB;AACA,gBAAgB,UAAUC,IAAV,EAAgBC,aAAhB,EAA+B;AAC7C,MAAID,IAAI,IAAIC,aAAZ,EAA2B;AACzB,QAAIC,kBAAkB,GAAGC,KAAK,CAACC,OAAN,CAAcH,aAAd,IAA+BA,aAA/B,GAA+CA,aAAa,CAACI,KAAd,CAAoB,GAApB,CAAxE;AACA,QAAIC,QAAQ,GAAGN,IAAI,CAACO,IAAL,IAAa,EAA5B;AACA,QAAIC,QAAQ,GAAGR,IAAI,CAACS,IAAL,IAAa,EAA5B;AACA,QAAIC,YAAY,GAAGF,QAAQ,CAACG,OAAT,CAAiB,OAAjB,EAA0B,EAA1B,CAAnB;AACA,WAAOT,kBAAkB,CAACU,IAAnB,CAAwB,UAAUH,IAAV,EAAgB;AAC7C,UAAII,SAAS,GAAGJ,IAAI,CAACK,IAAL,EAAhB,CAD6C,CAChB;;AAE7B,UAAI,cAAcC,IAAd,CAAmBN,IAAnB,CAAJ,EAA8B;AAC5B,eAAO,IAAP;AACD,OAL4C,CAK3C;;;AAGF,UAAII,SAAS,CAACG,MAAV,CAAiB,CAAjB,MAAwB,GAA5B,EAAiC;AAC/B,YAAIC,aAAa,GAAGX,QAAQ,CAACY,WAAT,EAApB;AACA,YAAIC,SAAS,GAAGN,SAAS,CAACK,WAAV,EAAhB;AACA,YAAIE,SAAS,GAAG,CAACD,SAAD,CAAhB;;AAEA,YAAIA,SAAS,KAAK,MAAd,IAAwBA,SAAS,KAAK,OAA1C,EAAmD;AACjDC,UAAAA,SAAS,GAAG,CAAC,MAAD,EAAS,OAAT,CAAZ;AACD;;AAED,eAAOA,SAAS,CAACR,IAAV,CAAe,UAAUS,KAAV,EAAiB;AACrC,iBAAOJ,aAAa,CAACK,QAAd,CAAuBD,KAAvB,CAAP;AACD,SAFM,CAAP;AAGD,OApB4C,CAoB3C;;;AAGF,UAAI,QAAQN,IAAR,CAAaF,SAAb,CAAJ,EAA6B;AAC3B,eAAOH,YAAY,KAAKG,SAAS,CAACF,OAAV,CAAkB,OAAlB,EAA2B,EAA3B,CAAxB;AACD,OAzB4C,CAyB3C;;;AAGF,UAAIH,QAAQ,KAAKK,SAAjB,EAA4B;AAC1B,eAAO,IAAP;AACD,OA9B4C,CA8B3C;;;AAGF,UAAI,QAAQE,IAAR,CAAaF,SAAb,CAAJ,EAA6B;AAC3Bd,QAAAA,OAAO,CAAC,KAAD,EAAQ,6CAA6CwB,MAA7C,CAAoDV,SAApD,EAA+D,mBAA/D,CAAR,CAAP;AACA,eAAO,IAAP;AACD;;AAED,aAAO,KAAP;AACD,KAvCM,CAAP;AAwCD;;AAED,SAAO,IAAP;AACD,CAjDD","sourcesContent":["import warning from \"rc-util/es/warning\";\nexport default (function (file, acceptedFiles) {\n  if (file && acceptedFiles) {\n    var acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\n    var fileName = file.name || '';\n    var mimeType = file.type || '';\n    var baseMimeType = mimeType.replace(/\\/.*$/, '');\n    return acceptedFilesArray.some(function (type) {\n      var validType = type.trim(); // This is something like */*,*  allow all files\n\n      if (/^\\*(\\/\\*)?$/.test(type)) {\n        return true;\n      } // like .jpg, .png\n\n\n      if (validType.charAt(0) === '.') {\n        var lowerFileName = fileName.toLowerCase();\n        var lowerType = validType.toLowerCase();\n        var affixList = [lowerType];\n\n        if (lowerType === '.jpg' || lowerType === '.jpeg') {\n          affixList = ['.jpg', '.jpeg'];\n        }\n\n        return affixList.some(function (affix) {\n          return lowerFileName.endsWith(affix);\n        });\n      } // This is something like a image/* mime type\n\n\n      if (/\\/\\*$/.test(validType)) {\n        return baseMimeType === validType.replace(/\\/.*$/, '');\n      } // Full match\n\n\n      if (mimeType === validType) {\n        return true;\n      } // Invalidate type should skip\n\n\n      if (/^\\w+$/.test(validType)) {\n        warning(false, \"Upload takes an invalidate 'accept' type '\".concat(validType, \"'.Skip for check.\"));\n        return true;\n      }\n\n      return false;\n    });\n  }\n\n  return true;\n});"]},"metadata":{},"sourceType":"module"}