{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport { convertDataToEntities } from \"rc-tree/es/utils/treeUtil\";\nimport { VALUE_SPLIT } from '../utils/commonUtil';\n/** Lazy parse options data into conduct-able info to avoid perf issue in single mode */\n\nexport default (function (options, fieldNames) {\n  var cacheRef = React.useRef({\n    options: null,\n    info: null\n  });\n  var getEntities = React.useCallback(function () {\n    if (cacheRef.current.options !== options) {\n      cacheRef.current.options = options;\n      cacheRef.current.info = convertDataToEntities(options, {\n        fieldNames: fieldNames,\n        initWrapper: function initWrapper(wrapper) {\n          return _objectSpread(_objectSpread({}, wrapper), {}, {\n            pathKeyEntities: {}\n          });\n        },\n        processEntity: function processEntity(entity, wrapper) {\n          var pathKey = entity.nodes.map(function (node) {\n            return node[fieldNames.value];\n          }).join(VALUE_SPLIT);\n          wrapper.pathKeyEntities[pathKey] = entity; // Overwrite origin key.\n          // this is very hack but we need let conduct logic work with connect path\n\n          entity.key = pathKey;\n        }\n      });\n    }\n\n    return cacheRef.current.info.pathKeyEntities;\n  }, [fieldNames, options]);\n  return getEntities;\n});","map":{"version":3,"sources":["/Users/iflego/Documents/GitHub/landy-react-template/my-app/node_modules/rc-cascader/es/hooks/useEntities.js"],"names":["_objectSpread","React","convertDataToEntities","VALUE_SPLIT","options","fieldNames","cacheRef","useRef","info","getEntities","useCallback","current","initWrapper","wrapper","pathKeyEntities","processEntity","entity","pathKey","nodes","map","node","value","join","key"],"mappings":"AAAA,OAAOA,aAAP,MAA0B,0CAA1B;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,qBAAT,QAAsC,2BAAtC;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA;;AAEA,gBAAgB,UAAUC,OAAV,EAAmBC,UAAnB,EAA+B;AAC7C,MAAIC,QAAQ,GAAGL,KAAK,CAACM,MAAN,CAAa;AAC1BH,IAAAA,OAAO,EAAE,IADiB;AAE1BI,IAAAA,IAAI,EAAE;AAFoB,GAAb,CAAf;AAIA,MAAIC,WAAW,GAAGR,KAAK,CAACS,WAAN,CAAkB,YAAY;AAC9C,QAAIJ,QAAQ,CAACK,OAAT,CAAiBP,OAAjB,KAA6BA,OAAjC,EAA0C;AACxCE,MAAAA,QAAQ,CAACK,OAAT,CAAiBP,OAAjB,GAA2BA,OAA3B;AACAE,MAAAA,QAAQ,CAACK,OAAT,CAAiBH,IAAjB,GAAwBN,qBAAqB,CAACE,OAAD,EAAU;AACrDC,QAAAA,UAAU,EAAEA,UADyC;AAErDO,QAAAA,WAAW,EAAE,SAASA,WAAT,CAAqBC,OAArB,EAA8B;AACzC,iBAAOb,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKa,OAAL,CAAd,EAA6B,EAA7B,EAAiC;AACnDC,YAAAA,eAAe,EAAE;AADkC,WAAjC,CAApB;AAGD,SANoD;AAOrDC,QAAAA,aAAa,EAAE,SAASA,aAAT,CAAuBC,MAAvB,EAA+BH,OAA/B,EAAwC;AACrD,cAAII,OAAO,GAAGD,MAAM,CAACE,KAAP,CAAaC,GAAb,CAAiB,UAAUC,IAAV,EAAgB;AAC7C,mBAAOA,IAAI,CAACf,UAAU,CAACgB,KAAZ,CAAX;AACD,WAFa,EAEXC,IAFW,CAENnB,WAFM,CAAd;AAGAU,UAAAA,OAAO,CAACC,eAAR,CAAwBG,OAAxB,IAAmCD,MAAnC,CAJqD,CAIV;AAC3C;;AAEAA,UAAAA,MAAM,CAACO,GAAP,GAAaN,OAAb;AACD;AAfoD,OAAV,CAA7C;AAiBD;;AAED,WAAOX,QAAQ,CAACK,OAAT,CAAiBH,IAAjB,CAAsBM,eAA7B;AACD,GAvBiB,EAuBf,CAACT,UAAD,EAAaD,OAAb,CAvBe,CAAlB;AAwBA,SAAOK,WAAP;AACD,CA9BD","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport { convertDataToEntities } from \"rc-tree/es/utils/treeUtil\";\nimport { VALUE_SPLIT } from '../utils/commonUtil';\n/** Lazy parse options data into conduct-able info to avoid perf issue in single mode */\n\nexport default (function (options, fieldNames) {\n  var cacheRef = React.useRef({\n    options: null,\n    info: null\n  });\n  var getEntities = React.useCallback(function () {\n    if (cacheRef.current.options !== options) {\n      cacheRef.current.options = options;\n      cacheRef.current.info = convertDataToEntities(options, {\n        fieldNames: fieldNames,\n        initWrapper: function initWrapper(wrapper) {\n          return _objectSpread(_objectSpread({}, wrapper), {}, {\n            pathKeyEntities: {}\n          });\n        },\n        processEntity: function processEntity(entity, wrapper) {\n          var pathKey = entity.nodes.map(function (node) {\n            return node[fieldNames.value];\n          }).join(VALUE_SPLIT);\n          wrapper.pathKeyEntities[pathKey] = entity; // Overwrite origin key.\n          // this is very hack but we need let conduct logic work with connect path\n\n          entity.key = pathKey;\n        }\n      });\n    }\n\n    return cacheRef.current.info.pathKeyEntities;\n  }, [fieldNames, options]);\n  return getEntities;\n});"]},"metadata":{},"sourceType":"module"}